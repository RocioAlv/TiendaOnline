<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda de Artículos de Limpieza</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8e8ff; /* Violeta pastel suave */
            color: #333;
            margin: 0;
            padding: 20px;
        }
        header {
            text-align: center;
            background-color: #ffb3d9; /* Rosa pastel */
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            position: relative;
            box-shadow: 
                0 0 20px rgba(200, 162, 200, 0.8), /* Luz neon violeta pastel */
                0 10px 30px rgba(200, 162, 200, 0.5), /* Sombra para efecto 3D */
                inset 0 0 10px rgba(255, 255, 255, 0.2); /* Brillo interno para 3D */
            overflow: hidden; /* Para que las burbujas no salgan del header */
        }
        /* Burbujas semi-transparentes */
        header::before {
            content: '';
            position: absolute;
            top: 10%;
            left: 20%;
            width: 30px;
            height: 30px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(173, 216, 230, 0.5);
        }
        header::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 70%;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            box-shadow: 0 0 8px rgba(173, 216, 230, 0.5);
        }
        .bubble1 {
            position: absolute;
            top: 20%;
            left: 50%;
            width: 25px;
            height: 25px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            box-shadow: 0 0 10px rgba(173, 216, 230, 0.5);
        }
        .bubble2 {
            position: absolute;
            top: 70%;
            left: 10%;
            width: 15px;
            height: 15px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            box-shadow: 0 0 6px rgba(173, 216, 230, 0.5);
        }
        .bubble3 {
            position: absolute;
            top: 40%;
            left: 80%;
            width: 18px;
            height: 18px;
            background: rgba(255, 255, 255, 0.4);
            border-radius: 50%;
            box-shadow: 0 0 8px rgba(173, 216, 230, 0.5);
        }
        h1 {
            color: #6a0dad; /* Violeta más oscuro para contraste */
            font-family: 'Dancing Script', cursive;
            font-size: 42px;
            margin: 0;
            position: relative;
            z-index: 1; /* Para que el texto esté encima de las burbujas */
        }
        header p {
            font-weight: bold;
            color: #333;
            position: relative;
            z-index: 1; /* Para que el texto esté encima de las burbujas */
        }
        .product {
            background-color: #ffe6f7; /* Rosa pastel claro */
            border: 1px solid #ffb3d9;
            border-radius: 10px;
            padding: 15px;
            margin: 10px;
            display: inline-block;
            width: 300px;
            vertical-align: top;
            box-shadow: 
                0 0 15px rgba(200, 162, 200, 0.6), /* Luz neon violeta pastel */
                0 8px 20px rgba(200, 162, 200, 0.4), /* Sombra para efecto 3D */
                inset 0 0 8px rgba(255, 255, 255, 0.1); /* Brillo interno para 3D */
        }
        .product.added {
            background-color: #A997FC; /* Color cambiado al agregar */
        }
        .product h3 {
            color: #6a0dad;
            font-family: Arial, sans-serif;
            font-size: 17px;
        }
        select {
            margin: 5px;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ffb3d9;
            font-family: Arial;
            font-size: 14px;
        }
        input {
            margin: 5px;
            padding: 8px;
            border-radius: 5px;
            border: 1px solid #ffb3d9;
        }
        button {
            margin: 5px;
            padding: 8px;
            border-radius: 5px;
            border: none;
            cursor: pointer;
        }
        .add-to-cart {
            background-color: #c8a2c8; /* Violeta pastel */
            color: white;
            font-family: Arial;
        }
        .add-to-cart:hover {
            background-color: #b894b8; /* Violeta pastel más oscuro para hover */
        }
        .edit-button {
            background-color: #B2EDED; /* Color especificado */
            color: black;
            font-family: Arial, sans-serif;
            display: none; /* Oculto por defecto */
        }
        .edit-button:hover {
            background-color: #A0D8D8; /* Hover más oscuro */
        }
        #cart-button {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #B9B2ED; /* Color especificado */
            color: black;
            padding: 15px;
            border-radius: 10px; /* Rectangular con esquinas redondeadas */
            font-size: 18px;
            font-family: Arial, sans-serif;
            animation: blink 1s infinite;
        }
        @keyframes blink {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }
        #cart {
            display: none;
            background-color: #ffe6f7;
            border: 1px solid #ffb3d9;
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3); /* Sombra negra para resaltar */
        }
        #cart h3 {
            font-family: Arial, sans-serif;
            font-size: 20px;
            color: #6a0dad;
        }
        #cart ul {
            list-style: disc; /* Viñetas */
            padding-left: 20px;
        }
        #cart li {
            margin: 5px 0;
        }
        #cart p {
            font-weight: bold;
        }
        #cart p span::after {
            content: " ♥";
        }
        #cart button {
            background-color: #2E8B57; /* Verde un poco más oscuro */
            color: white;
            font-weight: bold;
            font-family: Arial, sans-serif;
            font-size: 14px;
        }
        #cart button:hover {
            background-color: #228B22; /* Verde más oscuro para hover */
        }
        #message-box {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: #c8a2c8; /* Violeta pastel */
            color: white;
            padding: 20px;
            border-radius: 10px;
            font-family: Arial, sans-serif;
            font-weight: bold;
            font-size: 18px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.5); /* Sombra negra en 3D */
            z-index: 1000;
        }
    </style>
</head>
<body>
    <header>
        <div class="bubble1"></div>
        <div class="bubble2"></div>
        <div class="bubble3"></div>
        <h1>ARTÍCULOS DE LIMPIEZA, LO DE MARY</h1>
        <p>GRACIAS POR ESTAR AQUÍ, AGREGA PRODUCTOS A TU CARRITO Y ENVIA TU PEDIDO POR WHATSAPP</p>
    </header>

    <div id="products">
        <!-- Perfumina -->
        <div class="product" id="perfumina-product">
            <h3>Perfumina</h3>
            <select id="perfumina-flavor">
                <option value="">Seleccionar sabor</option>
                <option value="Citronella">Citronella</option>
                <option value="Pino">Pino</option>
                <option value="Lavanda">Lavanda</option>
            </select>
            <select id="perfumina-size">
                <option value="0.5">0.5L - $200</option>
                <option value="1">1L - $400</option>
                <option value="1.5">1.5L - $600</option>
                <option value="2">2L - $800</option>
                <option value="5">5L - $2000</option>
            </select>
            <input type="number" id="perfumina-qty" min="1" value="1" placeholder="Cantidad">
            <button class="add-to-cart" id="perfumina-add" onclick="addToCart('Perfumina', document.getElementById('perfumina-flavor').value, document.getElementById('perfumina-size').value, document.getElementById('perfumina-qty').value)">Agregar al Carrito</button>
            <button class="edit-button" id="perfumina-edit" onclick="editProduct('Perfumina')">EDITAR</button>
        </div>

        <!-- Jabón Líquido Ariel -->
        <div class="product" id="jabon-product">
            <h3>Jabón Líquido Ariel</h3>
            <select id="jabon-size">
                <option value="0.5">0.5L - $380</option>
                <option value="1">1L - $760</option>
                <option value="1.5">1.5L - $1140</option>
                <option value="2">2L - $1520</option>
                <option value="5">5L - $3800</option>
            </select>
            <input type="number" id="jabon-qty" min="1" value="1" placeholder="Cantidad">
            <button class="add-to-cart" id="jabon-add" onclick="addToCart('Jabón Líquido Ariel', '', document.getElementById('jabon-size').value, document.getElementById('jabon-qty').value)">Agregar al Carrito</button>
            <button class="edit-button" id="jabon-edit" onclick="editProduct('Jabón Líquido Ariel')">EDITAR</button>
        </div>

        <!-- Lavandina -->
        <div class="product" id="lavandina-product">
            <h3>Lavandina</h3>
            <select id="lavandina-size">
                <option value="0.5">0.5L - $320</option>
                <option value="1">1L - $640</option>
                <option value="1.5">1.5L - $960</option>
                <option value="2">2L - $1280</option>
                <option value="5">5L - $3200</option>
            </select>
            <input type="number" id="lavandina-qty" min="1" value="1" placeholder="Cantidad">
            <button class="add-to-cart" id="lavandina-add" onclick="addToCart('Lavandina', '', document.getElementById('lavandina-size').value, document.getElementById('lavandina-qty').value)">Agregar al Carrito</button>
            <button class="edit-button" id="lavandina-edit" onclick="editProduct('Lavandina')">EDITAR</button>
        </div>

        <!-- Detergente -->
        <div class="product" id="detergente-product">
            <h3>Detergente</h3>
            <select id="detergente-size">
                <option value="0.5">0.5L - $690</option>
                <option value="1">1L - $1380</option>
                <option value="1.5">1.5L - $2070</option>
                <option value="2">2L - $2760</option>
                <option value="5">5L - $6900</option>
            </select>
            <input type="number" id="detergente-qty" min="1" value="1" placeholder="Cantidad">
            <button class="add-to-cart" id="detergente-add" onclick="addToCart('Detergente', '', document.getElementById('detergente-size').value, document.getElementById('detergente-qty').value)">Agregar al Carrito</button>
            <button class="edit-button" id="detergente-edit" onclick="editProduct('Detergente')">EDITAR</button>
        </div>
    </div>

    <button id="cart-button" onclick="showCart()">Ver Carrito</button>

    <div id="cart">
        <h3>Tu Carrito</h3>
        <ul id="cart-items"></ul>
        <p>Total: $<span id="total">0</span></p>
        <button onclick="sendOrder()">Enviar Pedido</button>
    </div>

    <div id="message-box">AGREGADO ! ♥</div>

    <script>
        let cart = [];
        let total = 0;
        let editingProduct = null;

        function addToCart(product, flavor, size, qty) {
            qty = parseInt(qty);
            let price = getPrice(product, size);
            let displayName = flavor ? `${product} (${flavor})` : product;
            if (editingProduct === product) {
                // Actualizar item existente
                let existing = cart.find(item => item.product.startsWith(product));
                if (existing) {
                    total -= existing.price;
                    existing.product = displayName;
                    existing.size = size;
                    existing.qty = qty;
                    existing.price = price * qty;
                    total += existing.price;
                }
                resetEditMode(product);
            } else {
                // Agregar nuevo
                cart.push({ product: displayName, size, qty, price: price * qty });
                total += price * qty;
                showMessage();
            }
            updateCartButton();
            updateEditButtons();
            updateProductColors();
        }

        function getPrice(product, size) {
            const prices = {
                'Perfumina': { '0.5': 200, '1': 400, '1.5': 600, '2': 800, '5': 2000 },
                'Jabón Líquido Ariel': { '0.5': 380, '1': 760, '1.5': 1140, '2': 1520, '5': 3800 },
                'Lavandina': { '0.5': 320, '1': 640, '1.5': 960, '2': 1280, '5': 3200 },
                'Detergente': { '0.5': 690, '1': 1380, '1.5': 2070, '2': 2760, '5': 6900 }
            };
            return prices[product][size];
        }

        function updateCartButton() {
            if (cart.length > 0) {
                document.getElementById('cart-button').style.display = 'block';
            }
        }

        function updateEditButtons() {
            const products = ['Perfumina', 'Jabón Líquido Ariel', 'Lavandina', 'Detergente'];
            products.forEach(prod => {
                let hasItem = cart.some(item => item.product.startsWith(prod));
                document.getElementById(prod.toLowerCase().replace(/ /g, '-') + '-edit').style.display = hasItem ? 'inline-block' : 'none';
            });
        }

        function updateProductColors() {
            const products = ['Perfumina', 'Jabón Líquido Ariel', 'Lavandina', 'Detergente'];
            products.forEach(prod => {
                let hasItem = cart.some(item => item.product.startsWith(prod));
                let element = document.getElementById(prod.toLowerCase().replace(/ /g, '-') + '-product');
                if (hasItem) {
                    element.classList.add('added');
                } else {
                    element.classList.remove('added');
                }
            });
        }

        function editProduct(product) {
            editingProduct = product;
            let existing = cart.find(item =>
